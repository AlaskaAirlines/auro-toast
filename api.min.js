import { A as AuroToast, a as AuroToaster } from './auro-toaster.min.js';

/* eslint-disable jsdoc/require-jsdoc */

function initNoIconExample() {
  const btn = document.querySelector("#noIconBtn");
  const toast = document.querySelector("#noIcon");

  btn.addEventListener("click", () => {
    if (!toast.hasAttribute("visible")) {
      toast.setAttribute("visible", true);
    }
  });
}

/* eslint-disable jsdoc/require-jsdoc */

function initTimeTilHideExample() {
  const btn = document.querySelector("#timeTilHideToastBtn");
  const toast = document.querySelector("#timeTilHideToast");

  btn.addEventListener("click", () => {
    if (!toast.hasAttribute("visible")) {
      toast.setAttribute("visible", true);
    }
  });
}

/* eslint-disable jsdoc/require-jsdoc */

function initVariantToastsExample() {
  const btn = document.querySelector("#defaultVariantBtn");
  const toast = document.querySelector("#defaultVariant");

  btn.addEventListener("click", () => {
    if (!toast.hasAttribute("visible")) {
      toast.setAttribute("visible", true);
    }
  });

  const btnTwo = document.querySelector("#errorVariantBtn");
  const toastTwo = document.querySelector("#errorVariant");

  btnTwo.addEventListener("click", () => {
    if (!toastTwo.hasAttribute("visible")) {
      toastTwo.setAttribute("visible", true);
    }
  });

  const btnThree = document.querySelector("#successVariantBtn");
  const toastThree = document.querySelector("#successVariant");

  btnThree.addEventListener("click", () => {
    if (!toastThree.hasAttribute("visible")) {
      toastThree.setAttribute("visible", true);
    }
  });
}

/* eslint-disable jsdoc/require-jsdoc */

function initVisibleExample() {
  const btn = document.querySelector("#visibleToastBtn");
  const toast = document.querySelector("#visibleToast");

  btn.addEventListener("click", () => {
    if (!toast.hasAttribute("visible")) {
      toast.setAttribute("visible", true);
    }
  });
}

AuroToast.register();
AuroToaster.register();

/* eslint-disable jsdoc/require-jsdoc, no-magic-numbers, no-param-reassign */

function initExamples(initCount) {
  // biome-ignore lint/style/noParameterAssign: legacy code, don't want to refactor right now
  initCount = initCount || 0;

  try {
    // javascript example function calls to be added here upon creation to test examples
    initVisibleExample();
    initVariantToastsExample();
    initNoIconExample();
    initTimeTilHideExample();
  } catch (_err) {
    if (initCount <= 20) {
      // setTimeout handles issue where content is sometimes loaded after the functions get called
      setTimeout(() => {
        initExamples(initCount + 1);
      }, 100);
    }
  }
}

export { initExamples };
